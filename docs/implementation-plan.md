# План реализации публичной страницы

## 0. Архитектурные решения ⚠️ [ТРЕБУЕТ ВНИМАНИЯ]
### Маршрутизация и деплой
- Обновить middleware для поддержки двух режимов:
  - Публичная часть (homio.pro):
    - Полностью SSG/ISR
    - Без аутентификации
    - Максимальная производительность
  - Панель управления (x.homio.pro):
    - Существующая логика аутентификации
    - SSR/CSR для динамического контента
    - Защищенные роуты
- Настроить конфигурацию деплоя:
  - Раздельные билды для публичной части и панели
  - Общий CDN для статических ресурсов
  - Edge кэширование для публичной части

### SSR/SSG оптимизация
- Переработать существующие компоненты:
  - ✓ Разделение на серверные/клиентские части
  - ✓ Использование Suspense для загрузки
  - ✓ Skeleton компоненты для загрузки
  - Настроить ISR для динамических данных:
    - Блог посты
    - События
    - Коллекции
    - Области
- Оптимизировать загрузку данных:
  - Реализовать API роуты с кэшированием
  - Настроить revalidate интервалы
  - Добавить прогрессивную загрузку изображений

### SEO и метаданные
- ✓ Базовые метаданные настроены
- ✓ JSON-LD структурированные данные
- Добавить:
  - Динамические метаданные для каждой локали
  - Оптимизированные OG изображения
  - Sitemap.xml генерацию
  - Robots.txt конфигурацию

### Безопасность
- Настроить заголовки безопасности:
  - CSP для публичной части
  - CORS для API
  - Rate limiting
  - DDoS защита

## 1. Компоненты и контент
### Готово ✓
- Hero секция с поисковой формой
- Blog Posts секция
- Events секция
- Areas секция
- Collections секция
- Lifestyle секция
- CTA секция
- Skeleton компоненты
- Базовые переводы

### Требует доработки
- Оптимизация изображений:
  - Конвертация в WebP
  - Генерация blur placeholders
  - Responsive размеры
- Улучшение доступности:
  - ARIA атрибуты
  - Семантическая разметка
  - Клавиатурная навигация
- Оптимизация производительности:
  - Ленивая загрузка ниже fold
  - Приоритизация критического CSS
  - Оптимизация шрифтов

## 2. API и данные
- Реализовать API endpoints с ISR:
  - GET /api/public/blog-posts
  - GET /api/public/events
  - GET /api/public/areas
  - GET /api/public/collections
- Настроить кэширование:
  - Stale-while-revalidate стратегия
  - Edge кэширование
  - Инвалидация по требованию

## 3. Производительность
### Core Web Vitals
- LCP оптимизация:
  - Приоритетная загрузка hero изображения
  - Инлайн критический CSS
  - Preload ключевых ресурсов
- FID оптимизация:
  - Минимизация JS бандла
  - Отложенная загрузка неважных скриптов
  - Оптимизация гидратации
- CLS оптимизация:
  - Предопределенные размеры для изображений
  - Skeleton UI
  - Стабильные шрифты

### Кэширование
- Настроить многоуровневое кэширование:
  - Browser кэш
  - CDN кэш
  - Edge кэш
  - API кэш

## 4. Мониторинг
- Настроить аналитику:
  - Real User Monitoring
  - Core Web Vitals трекинг
  - Error tracking
- Автоматизированное тестирование:
  - Lighthouse CI
  - Performance budgets
  - E2E тесты

## Текущий статус
- [x] Базовая структура компонентов
- [x] Серверные/клиентские компоненты
- [x] Skeleton загрузка
- [x] Базовые метаданные
- [ ] Middleware для публичной части
- [ ] API endpoints с ISR
- [ ] Оптимизация изображений
- [ ] Продвинутое кэширование
- [ ] Мониторинг 